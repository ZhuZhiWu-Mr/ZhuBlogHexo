---
title: 92反转链表
date: 2021-05-28 21:33:34
tags:
---

## 给你单链表的头指针 head 和两个整数 left 和 right ，其中 left <= right 。请你反转从位置 left 到位置 right 的链表节点，返回 反转后的链表 

![image-20210528213456016](D:\data\projects\gitPro\ZhuBlogHexo\source\images\questions\image-20210528213456019.png)

输入：head = [1,2,3,4,5], left = 2, right = 4
输出：[1,4,3,2,5]
示例 2：

输入：head = [5], left = 1, right = 1
输出：[5]



## 解法1 穿针引线法



![image-20210528213624999](D:\data\projects\gitPro\ZhuBlogHexo\source\images\questions\image-20210528213624999.png)


```python
class Solution:
    def reverseBetween(self, head: ListNode, left: int, right: int) -> ListNode:
        def reverse_list_node(head: ListNode):
            cur = None
            pre = head
            while pre:
                tmp_pre = pre.next
                pre.next = cur
                cur = pre
                pre = tmp_pre

        # pre  lft  rgt  succ
        vitural_node = ListNode(0, head)
        pre = vitural_node
        # 1、pre走到left - 1 的前一个节点
        for _ in range(left - 1):
            pre = pre.next
        
        rgt = pre 
        # 2、 从pre走到right 节点
        for _ in range(right - left + 1):
            rgt = rgt.next

        lft = pre.next
        succ = rgt.next
        # 3、截断lft 和rgt
        pre.next = None
        rgt.next = None

        # 4、反转
        reverse_list_node(lft)
        # 5、拼接
        pre.next = rgt
        lft.next = succ
        return vitural_node.next
```