---
title: 砖墙问题 leecode 554 
date: 2021-05-03 14:22:29
tags: 
	- 算法
	- Python
	- Hash
categories: 
	- 算法
cover: /images/banners/VCG41N1070447322.jpg
feature: true
---
题目：你的面前有一堵矩形的、由 n 行砖块组成的砖墙。这些砖块高度相同（也就是一个单位高）但是宽度不同。每一行砖块的宽度之和应该相等。

你现在要画一条 自顶向下 的、穿过 最少 砖块的垂线。如果你画的线只是从砖块的边缘经过，就不算穿过这块砖。你不能沿着墙的两个垂直边缘之一画线，这样显然是没有穿过一块砖的。

给你一个二维数组 wall ，该数组包含这堵墙的相关信息。其中，wall[i] 是一个代表从左至右每块砖的宽度的数组。你需要找出怎样画才能使这条线 穿过的砖块数量最少 ，并且返回 穿过的砖块数量 


![](/post/砖墙问题//querstion.png)

输入：wall = [[1,2,2,1],[3,1,2],[1,3,2],[2,4],[3,1,2],[1,3,1,1]]
输出：2
示例 2：

输入：wall = [[1],[1],[1]]
输出：3
<!--more-->

### 1、题目分析
* 题目要求穿过的砖块数量最少，等效于通过他的间隙最多
* 将所有行总数，减去间隙，就是穿过最少的砖块数
* 记住，每行的间隙位置，就是砖的左侧宽度和

![](/post/砖墙问题/wall.png)

* 第 1 行的间隙有 [1,3,5]
* 第 2 行的间隙有 [3,4]
* 第 3 行的间隙有 [1,4]
* 第 4 行的间隙有 [2]
* 第 5 行的间隙有 [3,4]
* 第 6 行的间隙有 [1,4,5]

1. 上述的每行的每个值，代表间隙位置，单行的间隙位置不会相同出
1. 统计间隙数，最后用总行数减去出现次数，即得到【最少穿过砖块数】

## 解法1：使用hash表  52ms

```python
class Solution:
    def leastBricks(self, wall: List[List[int]]) -> int:
        hashtable = dict()
        for w in wall:
            # 记录每一块砖缝，出现次数
            ans = 0   # 每一行墙，墙缝 
            # 最后一块砖的墙缝不算, [:-1]代表只取到倒数每二个数
            for num in w[:-1]:
                # 统计墙缝
                ans += num
                hashtable[ans] = hashtable.get(ans, 0) + 1
        # 判断，所有行只有一块砖，就直接穿过所有
        if not hashtable:
            return len(wall)
        return len(wall) - max(hashtable.values())
    
```


```